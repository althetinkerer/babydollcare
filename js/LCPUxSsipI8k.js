!function(){document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[11],{q6BR:function(e,t,r){"use strict";r.r(t),r.d(t,"init",(function(){return a})),r.d(t,"clean",(function(){return d})),r.d(t,"onPageChange",(function(){return u}));class n{constructor({elementsSelector:e,listener:t,threshold:r}){this.onIntersection=e=>{e.forEach((e=>{e.isIntersecting?this.currentIntersecting.add(e.target):this.currentIntersecting.delete(e.target)})),this.listener(this.currentIntersecting)},this.elementSelector=e,this.listener=t,this.threshold=r,this.observer=new IntersectionObserver(this.onIntersection,{threshold:this.threshold}),this._init()}destroy(){this.elementsToMonitor.forEach((e=>{this.observer.unobserve(e)}))}_init(){this.elementsToMonitor=document.querySelectorAll(this.elementSelector)||[],this.currentIntersecting=new Set([]),this.elementsToMonitor.forEach((e=>{this.observer.observe(e)}))}reinit(){this.destroy(),this._init()}}n.displayName="ElementIntersectionObserver";const s=".unifiednav",i="dmNavItemSelected";let o,c;class l{constructor(){this.onObserverUpdated=e=>{this.currentIntersecting=Array.from(e)},this.onScroll=()=>{if(document.querySelector(".layout-drawer_open")||!this.currentIntersecting)return;const e=this.currentIntersecting.filter((e=>{const t=document.scrollingElement||document.documentElement;return(e.offsetTop-t.scrollTop)/window.innerHeight<.35}));this.transitioning||(this.transitioning=!0,window.requestAnimationFrame((()=>{this.navigationWidgets.forEach((t=>{(t.querySelectorAll("a")||[]).forEach((t=>{t.classList.remove(i);var r;(function({intersectingElements:e,href:t}){return e[e.length-1]&&(null==t?void 0:t.includes(e[e.length-1].getAttribute("id")))})({href:t.getAttribute("href"),intersectingElements:e})&&((r=t).classList.add(i),h(r,[]).forEach((e=>{const t=e.querySelector("a");!r||t.classList.add(i)})))})),this.transitioning=!1})),e.length||Array.from(document.querySelectorAll(".currentPage")||[]).forEach((e=>{e.href.includes("#")||e.classList.add(i)}))})))},this.destroy=()=>{this.observer.destroy()},this._init()}reInitMarkers(){this._init()}_init(){if(!document.querySelectorAll(s))return this.observer&&this.observer.destroy(),void document.removeEventListener("scroll",this.onScroll,{passive:!0});document.removeEventListener("scroll",this.onScroll,{passive:!0}),document.addEventListener("scroll",this.onScroll,{passive:!0}),this.observer=function({elementsSelector:e,listener:t=(()=>{}),threshold:r=.2}={}){return new n({elementsSelector:e,listener:t,threshold:r})}({elementsSelector:"[data-anchor]",threshold:.4,listener:this.onObserverUpdated}),this.navigationWidgets=Array.from(document.querySelectorAll(s))||[]}}function h(e,t){return e.matches("nav")?t:(e.matches(".unifiednav__item-wrap")&&t.push(e),h(e.parentNode,t))}function a(){return c=window.rtCommonProps["feature.flag.mark.anchors"]?(o=new l,o):null,Promise.resolve()}function u(){c&&c.reInitMarkers()}function d(){c&&c.clean()}l.displayName="AnchorMarker"}}])}();